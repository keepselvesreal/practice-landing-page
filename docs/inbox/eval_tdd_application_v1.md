# guide_tdd_application_v1.md – Epic 2 & 3 검토

## Epic 2: 어필리에이트 기능
- `docs/landing_page/guide_tdd_application_v1.md:488`에서는 에픽을 소개하면서 곧바로 단위 수준 예제로 진입한다. GOOS 4–5장은 모든 기능을 실패하는 인수 테스트(워킹 스켈레톤, 기능 주도 인수)로 시작해야 한다고 강조하므로, 사용자 관점의 얇은 조각이 빠져 있어 레드-그린-리팩터 사이클을 고정할 기준이 없다.
- `docs/landing_page/guide_tdd_application_v1.md:539` 예제는 `save_affiliate.save.call_args`를 파고들어 협력 객체를 점검한다. GOOS 7장은 협력 프로토콜을 명시적으로 드러내라고 말하는데, 목 내부를 들여다보는 방식은 계약을 감추고 저장소 포트 API가 변할 때 테스트를 취약하게 만든다.
- `docs/landing_page/guide_tdd_application_v1.md:566`의 `PlaceOrderService` 테스트는 다섯 개의 목에 의존한다. GOOS 20장은 “테스트를 짜기 어렵다면 설계 신호”라며 분해를 유도해야 한다고 한다. 가이드가 이 냄새를 지적하거나 수수료 계산과 같은 역할을 분리하는 방향을 제시하지 않아 독자가 피드백 루프를 놓친다.

## Epic 3: 고객 문의 기능
- `docs/landing_page/guide_tdd_application_v1.md:602`에서도 GOOS 4–5장이 기대하는 기능 수준 인수 테스트(예: 랜딩 페이지에서 문의를 보내고 사용자 피드백 확인)를 생략하고 애플리케이션 계층 단위 테스트로 바로 내려간다. 얇은 엔드 투 엔드 흐름의 신뢰도가 떨어진다.
- `docs/landing_page/guide_tdd_application_v1.md:611`은 `result is True`를 확인하고 문자열 포함 여부만 본다. GOOS 23장은 자기 설명적 진단을 강조하는데, 현재 형태는 실패 시 의도가 드러나지 않고 메시지나 값 빌더를 통한 표현 개선을 안내하지 않는다.
- `docs/landing_page/guide_tdd_application_v1.md:638`은 실서비스 Gmail SMTP 통합 테스트를 권장한다. GOOS 8장은 어댑터 테스트를 얇고 통제 가능하게 유지하라고 조언한다. 실 계정 의존은 느리고 불안정하며 자동화에 적대적인데도, 가이드는 페이크나 계약 테스트, 샌드박스 전략을 언급하지 않는다.

## 횡단 관점의 누락
- 두 에픽 모두 GOOS 21장의 가독성 기법을 언급하지 않는다. `test_commission_calculates_20_percent`, `test_sends_inquiry_email` 같은 이름은 책이 권장하는 행동 중심 TestDox 표현이나 일관된 Given/When/Then 구조를 따르지 않는다.
- 비록 `docs/landing_page/guide_tdd_application_v1.md:680`에서 빌더를 소개하지만, 에픽 예시에서는 원시 값을 그대로 하드코딩한다. GOOS 22장은 테스트가 빌더를 활용해 필요한 데이터만 강조하고 중복을 줄이라고 권한다.
- 단언은 커미션 금액이나 문자열 전체와 같이 표현 자체에 집착한다. GOOS 24장이 말하는 “의도에 대한 정밀하지만 유연한 검증”(매처나 도메인 헬퍼 활용)을 적용하지 않아, 예상이 불필요하게 부서지기 쉽다.

## 권장 사항
1. 각 에픽 앞에 사용자 여정을 실행하는 인수 테스트 시나리오와 코드 스케치를 배치해 Outside-in 흐름을 되살린다.
2. 여러 목을 요구하는 테스트에서 설계 피드백이 발생함을 강조하고, 서비스를 더 명료한 협력자로 분리하는 리팩터링 예시를 제시한다.
3. GOOS 21–24장을 반영하도록 예제 테스트를 재구성해 행동 중심 이름, 빌더 기반 픽스처, 자기 설명적 진단, 유연한 단언을 보여준다.
4. Gmail과 같은 실계정 의존 대신 통제 가능한 계약 테스트 예시(샌드박스 전략 포함)를 사용해 GOOS 8장의 지침을 지키면서도 신뢰성 있는 어댑터 테스트 방식을 안내한다.
