# Chapter 26: Case Study – Retirement Contributions - 추출된 정보

## 핵심 내용
- 연금 적립금 매칭 배치 프로세스에 대한 주요 시나리오와 예외를 테스트로 모델링
- 기여 파일·은행 입금·참여자 명세 간 일치성 검증, 지연/불일치/다중 매칭 등 현실적 변수를 다룸
- 상태 전이(기여 파일 수신→입금 도착→자금 지시 생성)를 반복 가능한 테스트 데이터로 구성

## 상세 핵심 내용

### 기본 플로우 테스트
- 기여 파일 총액과 은행 입금이 일치하고 모든 참가자 ID가 유효한 경우 자금 지시가 생성되는 메인 코스 정의
- 날짜/시간, 은행 관계 등 테스트 재현을 위한 셋업을 명시

### 예외 및 변형
- 입금 지연, 금액 미일치, 여러 파일과 하나의 입금 매칭, 식별자 오류 등 다양한 예외 시나리오를 테스트로 구체화
- 각 시나리오에서 시스템 응답(보류, 오류 보고, 부분 매칭 등)을 명확히 기록

### 데이터 모델 및 상태 관리
- 플랜, 참가자, 기여 파일, 입금 기록, 펀딩 지시 등 엔터티를 표로 정의해 관계를 명확히 함
- 이벤트 순서가 바뀌어도 동일 결과가 나와야 함을 테스트로 검증 (Idempotent)

## 주요 화제

### 배치 프로세스 테스트 전략
- 파일 기반 입력과 외부 은행 이벤트를 조합하는 테스트 구조 제시

### 예외 처리 우선순위
- 사람이 수행하던 매칭 업무 자동화 시 고려해야 할 실무적 예외 케이스를 강조

## 부차 화제

### 반복 가능성 확보
- 테스트 데이터 ID, 날짜 등 고정값을 사용해 배치 테스트 재실행을 용이하게 함

### 자동화 가치
- 반복 업무 자동화를 통해 고객 지원 인력 시간을 절약하려는 비즈니스 동기 확인
