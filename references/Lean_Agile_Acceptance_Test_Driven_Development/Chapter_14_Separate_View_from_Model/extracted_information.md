# Chapter 14: Separate View from Model - 추출된 정보

## 핵심 내용
- 비즈니스 로직 테스트와 UI 표현 테스트를 분리해 유지보수성과 재사용성을 향상
- 동일한 결과 상태를 다양한 UI 패턴(버튼 숨김, 비활성화, 대화상자)으로 표현하는 방법 비교
- 상태→표현 매핑을 표 형태로 정의하여 요구 변경 시 테스트 영향 최소화
- 시각적 테스트는 뷰 모델의 식별자와 연결해 구현 전/후 모두 검증 가능

## 상세 핵심 내용

### 모델과 뷰의 분리 원칙
- 예약 허용 여부는 도메인 모듈에서 계산하고, UI는 해당 상태를 해석하여 표현
- 테스트는 먼저 모델 결과(예: Allowed = Yes/No)를 검증한 후, 뷰 테스트에서 표현 방식을 확인

### UI 패턴 선택과 테스트
- 버튼 표시 여부, 활성화 상태, 대체 대화상자 호출 등 다양한 UX 전략을 표로 정의
- 각 전략별로 Given-When-Then 테스트를 작성하여 허용/거부 케이스를 명시

### 텍스트/식별자 매핑
- 메시지와 UI 요소는 도메인 식별자와 매핑 테이블을 사용해 독립적으로 관리
- 문구 변경이나 현지화가 필요할 때 모델 테스트를 수정할 필요가 없음

## 상세 내용

### 테스트 구조의 장점
- 뷰 로직 변경 시 모델 테스트는 그대로 유지되어 회귀 부담 감소
- 새 UI 채널(웹, 모바일) 추가 시 동일한 모델 테스트를 재사용 가능

### 프로토타입과 검증
- 표와 스케치(Fig. 14.2~14.4)로 다양한 UI 시나리오를 빠르게 시각화하여 사용자 피드백 수집
- 테스트 데이터 세트를 재활용해 여러 뷰 구현을 검증

### 변경 대응성
- 비즈니스 규칙이 바뀌어도 UI 표현 매핑만 교체 가능, 반대로 UI 요구 변경 시 모델 테스트 영향 없음

## 주요 화제

### 뷰 모델 개념 소개
- 상태 식별자와 뷰 표현을 연결하는 중간 레이어를 통해 테스트와 코드 구조 정렬

### 다중 채널 지원 준비
- 동일 결과를 여러 UI 디바이스에서 표현할 가능성을 고려한 설계 제안

### 테스트 유지보수 효율
- 뷰 테스트가 실패하면 표현 문제, 모델 테스트가 실패하면 비즈니스 로직 문제로 즉시 구분 가능

## 부차 화제

### 메시지 승인 대기 시 전략
- 텍스트 확정 전에도 상태 식별자를 기반으로 테스트를 작성해 일정 지연을 방지

### 사용자 경험 실험
- 다양한 표현 방식을 빠르게 스위칭하며 A/B 테스트나 사용자 연구에 활용 가능
