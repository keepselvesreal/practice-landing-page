# Chapter 15: Events, Responses, and States - 추출된 정보

## 핵심 내용
- 이벤트-응답 기법을 사용해 요구를 구조화하고 누락된 흐름을 탐지
- 시스템 상태 변화를 추적하기 위해 상태, 전이, 이벤트를 명확히 정의
- 각 이벤트에 대해 기대 응답을 테스트 사례로 구체화하여 범위와 책임을 분리
- 상태 다이어그램과 표를 활용해 비즈니스 규칙과 스토리 설계를 단순화

## 상세 핵심 내용

### 이벤트 테이블 구성
- 사용자·시간·외부 시스템 등 모든 이벤트를 수집하고, 시스템이 처리해야 하는지 여부를 결정
- 반응이 없는 이벤트는 범위 밖으로 식별하여 작업 집중도 향상

### 상태·전이 테스트
- 재고 상태(대여, 반납, 분실, 세척 등)를 상태 값으로 정의하고 이벤트 발생 시 전이를 검증
- 전이마다 Given-When-Then 테스트를 작성해 상태 기록, 부수 작업(계약서 출력 등)을 확인

### 복잡도 관리
- 이벤트를 유스케이스/스토리/작업으로 적절히 분류해 과도한 상세화(analysis paralysis) 방지
- 단순 이벤트도 테스트를 통해 기대 동작을 고정하여 구현 후 혼란 최소화

## 상세 내용

### 예외/외부 이벤트 처리
- 네거티브/외부 사건(디스크 파손, 분실 등)의 시스템 반응을 정의하여 업무 절차 명확화
- 상태 값과 후속 조치(청구, 기록, 세척 대기 등)를 표로 표현

### 시간 기반 이벤트
- 월말 초기화, 기본 대여 기간 종료 등 주기적 이벤트를 스케줄러/배치로 모델링
- 해당 이벤트에 대한 자동 통지, 보고서 생성 테스트 설계

### 테스트 자산 재사용
- 이벤트-응답 표와 상태 전이 다이어그램이 새로운 스토리의 테스트 베이스라인으로 활용

## 주요 화제

### 요구 수집 도구 다양화
- 유스케이스 외에도 이벤트 테이블을 사용해 다양한 입력 채널 시나리오를 포착

### 상태 추적 설계
- 상태 전이 기반 설계가 모듈화와 도메인 이해를 돕고 테스트 작성에도 직접 연결됨

### 범위 관리
- 시스템이 반응하지 않는 이벤트를 명시적으로 배제해 스코프 크리프 방지

## 부차 화제

### 기록 보존 전략
- 상태 변경 이력과 오디트 로깅 필요 여부를 논의할 수 있도록 이벤트 목록을 활용

### 간단 스토리 처리 팁
- 상세 유스케이스 없이도 단순 이벤트를 “Given 상태 → When 이벤트 → Then 결과” 패턴으로 빠르게 정의
