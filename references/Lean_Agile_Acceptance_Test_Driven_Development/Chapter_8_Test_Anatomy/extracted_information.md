# Chapter 8: Test Anatomy - 추출된 정보

## 핵심 내용
- 시나리오 테스트를 위한 기본 구조(Given-When-Then)와 테스트 흐름을 정의
- 시스템 컨텍스트(입력·출력·상태 변화)를 명확히 하고 테스트가 필요한 상태 설정을 식별
- 테스트 값을 표현하는 세 가지 표 형식(계산, 데이터, 액션)과 활용 사례 소개
- 시나리오 테스트와 비즈니스 규칙 테스트를 분리해 중복을 줄이고 커버리지를 확보하는 전략 제시

## 상세 핵심 내용

### 테스트 흐름과 상태 관리
- 초기 상태(Setup)를 정의하고 트리거(When)를 가한 후 기대 결과(Then)와 실제 결과를 비교
- 상태 변화가 있는 시스템은 내부/외부 영속성 여부를 고려하여 테스트 셋업을 구성

### 시나리오와 테스트 케이스 구분
- 유스케이스의 각 메인/예외/대안 흐름이 고유한 시나리오이며, 데이터가 채워지면 테스트 케이스가 됨
- 계산 중심 테스트는 간단한 입력-출력 매핑으로 구성 가능, 시나리오 테스트는 다단계 상태 검증 필요

### 테스트 데이터 표현 방식
- 계산 테이블: 입력 조합과 기대 출력(결과 이름 뒤 ?)을 나열하여 규칙을 표현
- 데이터 테이블: 시스템에 존재해야 하는 데이터 레코드를 정의하거나 필터 조건 포함 가능
- 액션 테이블: 입력/버튼/검증 흐름을 UI 대화 상자처럼 표현해 절차를 명확히 함

## 상세 내용

### 용어 일관성과 테스트 작성
- 스토리에서 사용한 도메인 언어를 테스트에도 동일하게 사용해 오해를 방지
- 테스트 중 용어 모호성이 발견되면 즉시 용어집과 스토리를 갱신

### 테스트 발견 시점 관리
- 이상적으로 구현 전 테스트를 모두 정의하지만, 탐색적 테스트에서 신규 조건이 발견되면 루트 원인을 조사
- 반복적으로 늦게 발견되는 경우 스토리 분해나 시나리오 워크숍 절차를 개선

### 표 형식의 응용
- 동일 액션 반복 시 수평/수직 배열 중 선호에 따라 표현해 가독성 확보
- 계산 테이블을 액션 테스트에 변형 적용해 반복 입력을 요약

## 주요 화제

### 컨텍스트 다이어그램 활용
- 시스템 경계를 시각화해 데이터 저장소 및 외부 시스템과의 상호작용을 이해

### 시나리오 재사용
- 복잡한 시나리오를 재사용 가능한 템플릿으로 만들어 테스트 작성 속도를 높일 수 있음

### 테스트 완전성 책임
- 트라이어드가 협력하되 테스터가 테스트 세트의 완전성(실용적 범위)을 보장하도록 역할을 명확히 함

## 부차 화제

### 테스트 발견 후 피드백 루프
- 구현 이후 발견된 테스트는 원인 분석을 통해 프로세스 개선으로 이어져야 함을 강조

### 표/텍스트 혼합 문서화
- 고객 선호에 따라 표와 서술형 텍스트를 혼합해 테스트를 기록하는 팁 제공
