# Chapter 9: Scenario Tests - 추출된 정보

## 핵심 내용
- 유스케이스의 예외·대안 흐름을 테스트 시나리오로 전환하는 방법을 구체적으로 시연
- 셋업 데이터 최적화(공유 데이터 vs 각 테스트 독립)와 메시지 검증 패턴을 논의
- 교차 스토리 조건, 비즈니스 규칙 우선순위, 자동화 범위에 대한 실무 고려사항을 제시
- 동일 테스트를 여러 계층(UI, 미들티어, 도메인)에서 실행해 빠른 피드백과 설계 분리를 도모
- 초기 UI 프로토타입과 측정으로 프로젝트 차터 목표(체크아웃 시간 단축)를 검증

## 상세 핵심 내용

### 예외 시나리오 테스트 설계
- 기존 메인 시나리오의 셋업을 수정하여 오류 조건(이미 대여된 CD, 대여 한도 초과 등)을 표현
- 오류 메시지 확인을 통해 사용자 피드백이 요구와 일치하는지 검증
- 셋업 데이터 테이블을 필터/요약 형태로 단순화하여 가독성과 유지보수성 향상

### 비즈니스 규칙 테스트 분리
- 복잡한 정책(대여 수 제한, 연체 금지 등)은 별도 비즈니스 룰 테스트로 캡슐화 후 시나리오와 연결
- 교차 조건(연체+한도 초과) 발생 시 우선순위 메시지를 비즈니스가 결정하도록 협업

### 자동화 범위 판단
- 모든 예외 처리를 자동화하기보다 비용 대비 가치가 낮은 경우 운영 지침으로 대체 제안
- 테스트 작성 시 가치는 고객이 판단하되, 팀은 비용과 리스크 정보를 제공

## 상세 내용

### 다층 테스트 전략
- 동일 시나리오를 UI와 미들티어에서 반복 실행해 기능과 프레젠테이션 분리 확인
- 미들티어 테스트는 대량 케이스를 빠르게 실행하고 UI 테스트는 대표적 경로만 커버

### 테스트 도구화와 UX 반영
- 테스트 전용 화면(예: CD 데이터 뷰어, 날짜 설정)을 개발하지만 운영 배포에서는 제거 권장
- 오류 메시지 방식, 입력 순서 등 UI 피드백을 빠르게 수집하기 위해 프로토타입 제작

### 차터 목표 측정
- 초기 구현을 사용해 실제 처리 시간을 측정, 목표 달성 여부에 따라 추가 투자 여부 결정
- 필요 시 바코드 스캐너, RFID 등 옵션을 비교하며 비용-효과 분석 수행

## 주요 화제

### 데이터 셋업 재사용 논의
- 공용 테이블 사용과 테스트 독립성 사이의 트레이드오프를 인식하고 후속 장(Chapter 31)에서 심화 예정

### 테스트 우선순위와 리스크 기반 접근
- 리스크가 낮은 영역은 간소화하고 중요한 규칙과 사용자 영향을 주는 시나리오를 중점 검증

### 자동화와 수동 절차의 균형
- 모든 예외를 시스템화하기보다 실사용자 지침과 자동 테스트의 조합으로 효율 달성

## 부차 화제

### 교차 스토리 상호작용 사례
- 독립적으로 성공한 기능도 통합 시 충돌 가능성이 있음을 디스크 모니터 사례로 강조

### 데이터 시각화와 테스트 아이디어 도출
- 테스트용 화면이 새로운 비즈니스 요구(대여 상태 조회)로 이어질 수 있음을 보여줌
