# 8.4 Exercises (pp.212-214)

---
**Page 212**

212
CHAPTER 8
Test-driven development
these entities. However, I favor unit testing as much as possible: I do not like the tests
of unit A breaking due to a bug in unit B. I use mocks for that, and I follow all the
practices discussed in chapter 6.
 I suggest that you learn more about both schools. Both have good points, and com-
bining them makes sense. I recommend Mancuso’s 2018 talk, which elaborates on the
differences between the schools and how the approaches can be used. 
8.3.6
TDD and proper testing
Some studies show that TDD practitioners write more test cases than non-TDD practi-
tioners. However, I do not believe that the test suites generated by TDD sessions are as
good as the strong, systematic test suites we engineered in the previous chapters after
applying different testing practices. The reasoning is simple: when doing TDD, we are
not focused on testing. TDD is a tool to help us develop, not to help us test.
 Let’s revisit figure 1.4 in chapter 1. As I mentioned earlier, TDD is part of “testing
to guide development.” In other words, you should use TDD when you want your tests
to guide you through the development process. When you are finished with your TDD
sessions and the code looks good, it is time to begin the effective and systematic test-
ing part of the process I describe: change your focus to testing, and apply specifica-
tion-based testing, structural testing, and property-based testing.
 Can you reuse the tests you created during TDD in the effective and systematic
part of the process? Sure. Doing so becomes natural.
 Combining TDD and effective testing makes even more sense when both are done
in a timely manner. You do not want to TDD something and then wait a week before
properly testing it. Can you mix short TDD cycles with short systematic and effective
testing cycles? Yes! Once you master all the techniques, you will begin to combine
them. The practices I discuss in this book are not meant to be followed linearly—they
are tools that are always at your disposal. 
Exercises
8.1
This figure illustrates the test-driven development cycle. Fill in the numbered
gaps in the figure.
8.2
Which of the following is the least important reason to do TDD?
(5)
(3)
(1)
(2)
(4)


---
**Page 213**

213
Exercises
A TDD practitioners use the feedback from the test code as a design hint.
B The practice of TDD enables developers to have steady, incremental prog-
ress throughout the development of a feature.
C As a consequence of the practice of TDD, software systems are tested
completely.
D Using mock objects helps developers understand the relationships between
objects.
8.3
TDD has become a popular practice among developers. According to them,
TDD has several benefits. Which of the following statements is not considered a
benefit of TDD? (This is from the perspective of developers, which may not
always match the results of empirical research.)
A Baby steps. Developers can take smaller steps whenever they feel it is
necessary.
B Better team integration. Writing tests is a social activity and makes the
team more aware of their code quality.
C Refactoring. The cycle prompts developers to improve their code constantly.
D Design for testability. Developers are forced to write testable code from
the beginning.
8.4
It is time to practice TDD. A very common practice problem is calculating the
final score of a bowling game.
In bowling, a game consists of 10 rounds. In each round, each player has a
frame. In a frame, the player can make two attempts to knock over 10 pins with
the bowling ball. The score for each frame is the number of pins knocked
down, with a bonus for a strike or a spare.
A strike means the player knocks over all pins with one roll. In addition to 10
points for knocking down all 10 pins, the player receives a bonus: the total num-
ber of pins knocked over in the next frame. Here is an example: [X] [1 2]
(each set of [ ] is one frame, and X indicates a strike). The player has accumu-
lated a total of 16 points in these two frames. The first frame scores 10 + 3
points (10 for the strike, and 3 for the sum of the next two rolls, 1 + 2), and the
second frame scores 3 (the sum of the rolls).
A spare means the player knocks down all pins in one frame, with two rolls. As
a bonus, the points for the next roll are added to the score of the frame. For
example, take [4 /] [3 2] (/ represents a spare). The player scores 13 points for
the first frame (10 pins + 3 from the next roll), plus 5 for the second frame, for
a total of 18 points.
If a strike or a spare is achieved in the tenth (final) frame, the player makes
an additional one (for a spare) or two (for a strike) rolls. However, the total
rolls for this frame cannot exceed three (that is, rolling a strike with one of the
extra rolls does not grant more rolls).


---
**Page 214**

214
CHAPTER 8
Test-driven development
Write a program that receives the results of the 10 frames and returns the
game’s final score. Use the TDD cycle: write a test, make it pass, and repeat.
Summary
Writing a test that fails, making it pass, and then refactoring is what test-driven
development is all about.
The red-green-refactor cycle brings different advantages to the coding process,
such as more control over the pace of development, and quick feedback.
All the schools of TDD make sense, and all should be used depending on the
current context.
Empirical research does not find clear benefits from TDD. The current consen-
sus is that working on small parts of a feature and making steady progress makes
developers more productive. Therefore, while TDD is a matter of taste, using
short implementation cycles and testing is the way to go.
Deciding whether to use TDD 100% of the time is also a personal choice. You
should determine when TDD makes you more productive.
Baby steps are key to TDD. Do not be afraid to go slowly when you are in doubt
about what to do next. And do not be afraid to go faster when you feel confident!


